<!DOCTYPE html>
<html ng-app="devResources">
<head lang="en">
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Web Developer Resources</title>
    <link rel="stylesheet" type="text/css" href="style.css">

    <!-- Bootstrap -->
    <link href="css/bootstrap.css" rel="stylesheet">

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->


</head>

<body  ng-controller="MainController as main">

<!--user can add heading, url link, body description, image, category as a checklist (html, css, javascript, jquery, angular, node, etc.), type of resource as checklist: practice exercises, tool to use, video, reading, pictures, examples-->
<div class="container">
<h1>Web Developer Resources</h1>
 <!--Add Icon-->
            <button class="btn btn-lg btn-info btn-blue" ng-click="addresource=!addresource; searchresource=false;" data-toggle="modal" data-target="#addresourceform" >
                <span class="glyphicon glyphicon-plus"></span>  Add New Resource
            </button>
 <!--Search Icon-->
           <button class="btn btn-lg btn-success" ng-click="searchresource=!searchresource; addresource=false;" >
                <span class="glyphicon glyphicon-search"></span> Search Resources
            </button>
        <p></p>

    <div ng-include="'form/addresource.html'"></div>

    <div ng-include="'form/searchresource.html'"></div>


        <!--Display database of resources-->
        <h2>List of Student-Added Resources</h2>
        <!--<h4>There are {{filtered.length}} results:</h4>-->
        <div class="displayresources" ng-repeat='link in linkList | filter:search | orderBy:title' >
            <div class="row">
                    <div class="col-md-6" ng-hide="editting">
                        <h4><a ng-href="{{link.link}}" >{{link.title }} </a></h4><p></p>
                        <strong>Description:</strong> {{link.description}}<br>
                        <strong>URL:  </strong><a ng-href="{{link.link}}">{{link.link}}</a><br>


                    </div>
                    <div class="col-md-6">
                        <!-- all buttons -->
                            <div class="allbuttons">
                                <!-- Button to go to link -->
                                <a ng-href="{{link.link}}"><button class="btn btn-info btn-sm btn-danger" ng-hide="editting">Go There Now</button></a>
                               <!--  Button to preview -->
                                <button class="btn btn-info btn-sm btn-warning" ng-click="preview=!preview;" ng-hide="editting">More Details</button>
                               <!--  buttons show when user sees details but hides when user is editting -->
                                <button ng-click="saveOriginal(link);editting=!editting" class="btn btn-info btn-sm btn-blue" ng-hide="editting">Edit</button>
                                
                            </div>
                
                    </div>
            </div>

            <!--More Detail-->
            <div class="row">
                <div class="col-md-6" ng-show="preview" >
                    <div ng-hide="editting">
                         <strong>Category:</strong>{{link.category}}<br>
                              <!--TrueProp2222: <span ng-init="trueProp(link.category)"></span> <span id="true-category"></span><br>-->
                         <strong>Type of Resource:</strong>{{link.resourcetype}}<br>


                            </div>
                        </div>
                </div>
            <!--IFRAME PREVIEW-->
          <!--  <div class="row">
                <div class="col-md-12" ng-show="preview">
                     <div ng-hide="editting">
                        <strong> Preview: </strong> <br>
                         <iframe name="{{link.title}}" src="{{link.link | trustAsResourceUrl}}" height="300px" width="100%"></iframe>

                    </div>
                </div>
            </div>-->





    <div class="row">
        <div class="col-md-6">
                        <form name="editResourceForm" ng-show="editting">
                            <h4>Edit Resource</h4><p></p>
                            <strong>Title:</strong>
                                <input type="text" ng-model="link.title"></h4>
                                <p></p>
                            <strong>Description:</strong><br>
                                <textarea rows="4" cols="63" ng-model="link.description"></textarea>
                                <p></p>
                            <strong>URL:  </strong>
                                <input type="text" ng-model="link.link">
                                <p></p>
                            <strong>Categories</strong><br>
                                    <input type="checkbox" name="category" ng-model="link.category.html" value="html" >html<br>
                                    <input type="checkbox" name="category" ng-model="link.category.css" value="css">css<br>
                                    <input type="checkbox" name="category" ng-model="link.category.javascript" value="javascript">javascript<br>
                                    <input type="checkbox" name="category" ng-model="link.category.jquery" value="jquery">jquery<br>
                                    <input type="checkbox" name="category" ng-model="link.category.angular" value="angular">angular.js<br>
                                    <input type="checkbox" name="category" ng-model="link.category.node" value="node" >node.js<br>
                                    <input type="checkbox" name="category" ng-model="link.category.express" value="express">express.js<br>
                                    <input type="checkbox" name="category" ng-model="link.category.mongul" value="mongul">mongul.js<br>
                            <p></p>
                            <strong>Type of Resource</strong><br>
                                    <input type="checkbox" name="resourcetype" ng-model="link.resourcetype.practice" value="practice">practice exercises <br>
                                    <input type="checkbox" name="resourcetype" ng-model="link.resourcetype.video" value="video">video<br>
                                    <input type="checkbox" name="resourcetype" ng-model="link.resourcetype.pics" value="pictures and diagrams">pictures and diagrams<br>
                                    <input type="checkbox" name="resourcetype"  ng-model="link.resourcetype.tutorial" value="tutorial">tutorial<br>
                                    <input type="checkbox" name="resourcetype"  ng-model="link.resourcetype.tool" value="tool">tool to use for project
                            <p></p>

                 <!--  buttons show up only when user is editing form -->
                            <button type= "submit" ng-click="saveLink(link); editting=!editting" class="btn btn-info btn-sm btn-danger">Update Changes</button>
                            <button ng-click="reset(link); editting=!editting" class="btn btn-info btn-sm btn-warning">Cancel</button>
                            <button ng-click="deleteLink(link); editting=!editting" class="btn btn-info btn-sm btn-blue">Delete</button>
                        </form>
            </div>
        </div>


    <div ng-include="'form/reviewform.html'"></div>

<hr class="line">

        </div>
     <p></p>
</div>  


            <!--TO DO:
            -Cancel - doesn't save the form but shows a change if u don't refresh ***
            -Add reviews to page
            -need to write purpose of the site so people get the warm and fuzzy
            -allows them to favorite resources
            -allows them to favorite categories?
            -Category and type of resource- shows only "true" properties
            -database disappears after I take off the filter - use FORM_ID.$dirty
            -History of people who delete or edit stuff so I can undo
            -Check Firebase backup

             -Login auththrough FB, Google+, Github
             -Sidebar: website mission, "My Favorites" (limit to a few and then click on it and show the whole list and order by ABC order or date of favorite or let them reorder?)


            EXTRA
            -orderBy review.stars
            -category is represented as pictures (Ex: HTML true has html pic)
            -picture of resource website
            -when you scroll down, nav bar pops up  (ex: http://www.hongkiat.com/blog/web-developer-resources-compilation/)

            -Reviews with stars
            -Add button so user can add categories - must be logged in
           

           DOES WORK:
           -Get dropdown list filter to work - ngOptions?
           -saving/updating works
            -->

         
<!--Google analytics-->
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-60337846-1', 'auto');
    ga('send', 'pageview');

</script>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="js/bootstrap.min.js"></script>
<!-- AngularJS -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.2/angular.min.js"></script>
<!--<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.2.1/angular-route.min.js"></script>-->

<!-- Firebase -->
<script src="https://cdn.firebase.com/js/client/2.0.4/firebase.js"></script>
<!-- AngularFire -->
<script src="https://cdn.firebase.com/libs/angularfire/0.9.2/angularfire.min.js"></script>
<script src="app.js" type="text/javascript"></script>
</body>
</html>